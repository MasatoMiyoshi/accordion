{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import anime from \"animejs/lib/anime.es.js\";\nimport './index.scss';\n\nexport function slideUp(elem, options) {\n  if (isHidden(elem) || isUpping(elem)) return;\n  anime.remove(elem);\n  setClass(elem, 'upping');\n\n  options = Object.assign(defaultOptions(), options);\n  let hprop = heightProperty(elem);\n\n  if (elem.style.height == '') elem.style.height = `${hprop.height}px`;\n  if (elem.style.paddingTop == '') elem.style.paddingTop = `${hprop.paddingTop}px`;\n  if (elem.style.paddingBottom == '') elem.style.paddingBottom = `${hprop.paddingBottom}px`;\n  if (elem.style.marginTop == '') elem.style.marginTop = `${hprop.marginTop}px`;\n  if (elem.style.marginBottom == '') elem.style.marginBottom = `${hprop.marginBottom}px`;\n\n  anime({\n    targets: elem,\n    height: '0px',\n    paddingTop: '0px',\n    paddingBottom: '0px',\n    marginTop: '0px',\n    marginBottom: '0px',\n    duration: options.duration,\n    easing: options.easing,\n    begin: function(a) {\n      if (options.beginFunc !== undefined) options.beginFunc();\n    },\n    complete: function(a) {\n      setClass(elem, 'hidden');\n      elem.style.height = null;\n      elem.style.paddingTop = null;\n      elem.style.paddingBottom = null;\n      elem.style.marginTop = null;\n      elem.style.marginBottom = null;\n      if (options.completeFunc !== undefined) options.completeFunc();\n    }\n  });\n}\n\nexport function slideDown(elem, options) {\n  if (isVisible(elem) || isDowning(elem)) return;\n  anime.remove(elem);\n  setClass(elem, 'downing');\n\n  options = Object.assign(defaultOptions(), options);\n  let hprop = heightProperty(elem);\n\n  if (elem.style.height == '') elem.style.height = '0px';\n  if (elem.style.paddingTop == '') elem.style.paddingTop = '0px';\n  if (elem.style.paddingBottom == '') elem.style.paddingBottom = '0px';\n  if (elem.style.marginTop == '') elem.style.marginTop = '0px';\n  if (elem.style.marginBottom == '') elem.style.marginBottom = '0px';\n\n  anime({\n    targets: elem,\n    height: `${hprop.height}px`,\n    paddingTop: `${hprop.paddingTop}px`,\n    paddingBottom: `${hprop.paddingBottom}px`,\n    marginTop: `${hprop.marginTop}px`,\n    marginBottom: `${hprop.marginBottom}px`,\n    duration: options.duration,\n    easing: options.easing,\n    begin: function(a) {\n      if (options.beginFunc !== undefined) options.beginFunc();\n    },\n    complete: function(a) {\n      setClass(elem, 'visible');\n      elem.style.display = null;\n      elem.style.height = null;\n      elem.style.paddingTop = null;\n      elem.style.paddingBottom = null;\n      elem.style.marginTop = null;\n      elem.style.marginBottom = null;\n      if (options.completeFunc !== undefined) options.completeFunc();\n    }\n  });\n}\n\nexport function slideToggle(elem, options) {\n  options = Object.assign(defaultOptions(), options);\n  if (isHidden(elem) || isUpping(elem)) {\n    slideDown(elem, options);\n  } else {\n    slideUp(elem, options);\n  }\n}\n\nfunction defaultOptions() {\n  return {\n    duration: 400,\n    easing: 'easeInOutCubic',\n    beginFunc: undefined,\n    completeFunc: undefined\n  };\n}\n\nfunction isVisible(elem) {\n  return elem.classList.contains('accordion--visible');\n}\n\nfunction isUpping(elem) {\n  return elem.classList.contains('accordion--upping');\n}\n\nfunction isHidden(elem) {\n  return elem.classList.contains('accordion--hidden');\n}\n\nfunction isDowning(elem) {\n  return elem.classList.contains('accordion--downing');\n}\n\nfunction setClass(elem, kind) {\n  elem.classList.remove('accordion--visible');\n  elem.classList.remove('accordion--upping');\n  elem.classList.remove('accordion--hidden');\n  elem.classList.remove('accordion--downing');\n  elem.classList.add(`accordion--${kind}`);\n}\n\nfunction heightProperty(elem) {\n  let copy = elem.cloneNode(true);\n  copy.style.cssText = '';\n  copy.style.cssText = 'display: block; height: auto; overflow: hidden; visibility: hidden;';\n  elem.parentNode.appendChild(copy);\n  let height = parseFloat(computedStyle(copy, 'height'));\n  let paddingTop = parseFloat(computedStyle(copy, 'padding-top'));\n  let paddingBottom = parseFloat(computedStyle(copy, 'padding-bottom'));\n  let marginTop = parseFloat(computedStyle(copy, 'margin-top'));\n  let marginBottom = parseFloat(computedStyle(copy, 'margin-bottom'));\n  elem.parentNode.removeChild(copy);\n\n  return {\n    height: height,\n    paddingTop: paddingTop,\n    paddingBottom: paddingBottom,\n    marginTop: marginTop,\n    marginBottom: marginBottom\n  };\n}\n\nfunction computedStyle(elem, property) {\n  return document.defaultView.getComputedStyle(elem).getPropertyValue(property);\n}\n"],"names":["slideUp","elem","options","isHidden","isUpping","anime","remove","setClass","Object","assign","duration","easing","beginFunc","undefined","completeFunc","hprop","heightProperty","style","height","paddingTop","paddingBottom","marginTop","marginBottom","targets","begin","a","complete","classList","contains","isVisible","isDowning","display","kind","add","cloneNode","copy","cssText","parentNode","appendChild","parseFloat","computedStyle","removeChild","property","document","defaultView","getComputedStyle","getPropertyValue","slideToggle","slideDown"],"mappings":"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"}