{"version":3,"file":"index.module.js","sources":["../src/index.js"],"sourcesContent":["import anime from \"animejs/lib/anime.es.js\";\nimport './index.scss';\n\nexport function slideUp(elem, options) {\n  if (isHidden(elem) || isUpping(elem)) return;\n  anime.remove(elem);\n  setClass(elem, 'upping');\n\n  options = Object.assign(defaultOptions(), options);\n  let hprop = heightProperty(elem);\n\n  if (elem.style.height == '') elem.style.height = `${hprop.height}px`;\n  if (elem.style.paddingTop == '') elem.style.paddingTop = `${hprop.paddingTop}px`;\n  if (elem.style.paddingBottom == '') elem.style.paddingBottom = `${hprop.paddingBottom}px`;\n  if (elem.style.marginTop == '') elem.style.marginTop = `${hprop.marginTop}px`;\n  if (elem.style.marginBottom == '') elem.style.marginBottom = `${hprop.marginBottom}px`;\n\n  anime({\n    targets: elem,\n    height: '0px',\n    paddingTop: '0px',\n    paddingBottom: '0px',\n    marginTop: '0px',\n    marginBottom: '0px',\n    duration: options.duration,\n    easing: options.easing,\n    begin: function(a) {\n      if (options.beginFunc !== undefined) options.beginFunc();\n    },\n    complete: function(a) {\n      setClass(elem, 'hidden');\n      elem.style.height = null;\n      elem.style.paddingTop = null;\n      elem.style.paddingBottom = null;\n      elem.style.marginTop = null;\n      elem.style.marginBottom = null;\n      if (options.completeFunc !== undefined) options.completeFunc();\n    }\n  });\n}\n\nexport function slideDown(elem, options) {\n  if (isVisible(elem) || isDowning(elem)) return;\n  anime.remove(elem);\n  setClass(elem, 'downing');\n\n  options = Object.assign(defaultOptions(), options);\n  let hprop = heightProperty(elem);\n\n  if (elem.style.height == '') elem.style.height = '0px';\n  if (elem.style.paddingTop == '') elem.style.paddingTop = '0px';\n  if (elem.style.paddingBottom == '') elem.style.paddingBottom = '0px';\n  if (elem.style.marginTop == '') elem.style.marginTop = '0px';\n  if (elem.style.marginBottom == '') elem.style.marginBottom = '0px';\n\n  anime({\n    targets: elem,\n    height: `${hprop.height}px`,\n    paddingTop: `${hprop.paddingTop}px`,\n    paddingBottom: `${hprop.paddingBottom}px`,\n    marginTop: `${hprop.marginTop}px`,\n    marginBottom: `${hprop.marginBottom}px`,\n    duration: options.duration,\n    easing: options.easing,\n    begin: function(a) {\n      if (options.beginFunc !== undefined) options.beginFunc();\n    },\n    complete: function(a) {\n      setClass(elem, 'visible');\n      elem.style.display = null;\n      elem.style.height = null;\n      elem.style.paddingTop = null;\n      elem.style.paddingBottom = null;\n      elem.style.marginTop = null;\n      elem.style.marginBottom = null;\n      if (options.completeFunc !== undefined) options.completeFunc();\n    }\n  });\n}\n\nexport function slideToggle(elem, options) {\n  options = Object.assign(defaultOptions(), options);\n  if (isHidden(elem) || isUpping(elem)) {\n    slideDown(elem, options);\n  } else {\n    slideUp(elem, options);\n  }\n}\n\nfunction defaultOptions() {\n  return {\n    duration: 400,\n    easing: 'easeInOutCubic',\n    beginFunc: undefined,\n    completeFunc: undefined\n  };\n}\n\nfunction isVisible(elem) {\n  return elem.classList.contains('accordion--visible');\n}\n\nfunction isUpping(elem) {\n  return elem.classList.contains('accordion--upping');\n}\n\nfunction isHidden(elem) {\n  return elem.classList.contains('accordion--hidden');\n}\n\nfunction isDowning(elem) {\n  return elem.classList.contains('accordion--downing');\n}\n\nfunction setClass(elem, kind) {\n  elem.classList.remove('accordion--visible');\n  elem.classList.remove('accordion--upping');\n  elem.classList.remove('accordion--hidden');\n  elem.classList.remove('accordion--downing');\n  elem.classList.add(`accordion--${kind}`);\n}\n\nfunction heightProperty(elem) {\n  let cssText = elem.style.cssText;\n  elem.style.cssText = '';\n  elem.style.cssText = 'display: block; height: auto;';\n  let height = parseFloat(computedStyle(elem, 'height'));\n  let paddingTop = parseFloat(computedStyle(elem, 'padding-top'));\n  let paddingBottom = parseFloat(computedStyle(elem, 'padding-bottom'));\n  let marginTop = parseFloat(computedStyle(elem, 'margin-top'));\n  let marginBottom = parseFloat(computedStyle(elem, 'margin-bottom'));\n  elem.style.cssText = cssText;\n\n  return {\n    height: height,\n    paddingTop: paddingTop,\n    paddingBottom: paddingBottom,\n    marginTop: marginTop,\n    marginBottom: marginBottom\n  };\n}\n\nfunction computedStyle(elem, property) {\n  return document.defaultView.getComputedStyle(elem).getPropertyValue(property);\n}\n"],"names":["slideUp","elem","options","isHidden","isUpping","anime","remove","setClass","Object","assign","duration","easing","beginFunc","undefined","completeFunc","heightProperty","style","height","hprop","paddingTop","paddingBottom","marginTop","marginBottom","targets","begin","a","complete","slideDown","classList","contains","isVisible","isDowning","display","slideToggle","kind","add","cssText","parseFloat","computedStyle","property","document","defaultView","getComputedStyle","getPropertyValue"],"mappings":"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"}